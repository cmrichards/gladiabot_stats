.search_box
  = render "player_search", form: @form

- if @stacked_map_chart
  .flexContainer
    .half
      = render "stacked_bar_chart", chart: @stacked_map_chart
      = render "stacked_bar_chart", chart: @stacked_map_chart_elo_delta
      .flexContainer
        - @individual_map_stats.each do |map_stat|
          .item{data: { map_chart: true,
                        title: map_stat.title,
                        win: map_stat.win,
                        lose: map_stat.lose,
                        draw: map_stat.draw }}
            &nbsp;

      :javascript
        $(function() {
          $(".item[data-map-chart]").each(function(index) {
            var div = $(this);
            createMapChart(this, div.data("title"), div.data("win"), div.data("lose"), div.data("draw"));
          });
        });

      .tableItem
        %h4 Lost/Drawn Games for #{@form.player.name}
        = render "games", games: @lost_and_drawn_games, main_player_id: @form.player.id

    .half.flexContainer
      = render "time_line_chart", chart: @elo_change_line_chart
      - if @elo_range_chart
        = render "elo_range_line_chart", chart: @elo_range_chart
      .half
        = render "stacked_bar_chart", chart: @stacked_players_chart
      .half
        = render "stacked_bar_chart", chart: @elo_delta_chart

